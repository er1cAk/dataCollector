require './lib/auroraRTU/raurora'
require './lib/helpers/inverter'

module AuroraRTU
  VERSION = "0.1.0"
  # COMMANDS VALUES
  GRID_VOLTAGE = 1
  GRID_CURRENT = 2
  GRID_POWER = 3
  # STATES RECOGNITION
  STATES = {
      0 => 'Stand by',
      1 => 'Checking grid',
      2 => 'Run',
      3 => 'Bulk OV',
      4 => 'Out OC',
      5 => 'IGBT Sat',
      6 => 'Bulk UV',
      7 => 'Degauss Error',
      8 => 'No Parameters',
      9 => 'Bulk Low',
      10 => 'Grid OV',
      11 => 'Communication Error',
      12 => 'Degaussing',
      13 => 'Starting',
      14 => 'Bulk Cap Fail',
      15 => 'Leak Fail',
      16 => 'DcDc Fail',
      17 => 'Ileak Sensor Fail',
      18 => 'SelfTest: relay inverter',
      19 => 'SelfTest: wait for sensor test',
      20 => 'SelfTest: test relay DcDc + sensor',
      21 => 'SelfTest: relay inverter fail',
      22 => 'SelfTest timeout fail',
      23 => 'SelfTest: relay DcDc fail',
      24 => 'Self Test 1',
      25 => 'Waiting self test start',
      26 => 'Dc Injection',
      27 => 'Self Test 2',
      28 => 'Self Test 3',
      29 => 'Self Test 4',
      30 => 'Internal Error',
      31 => 'Internal Error',
      40 => 'Forbidden State',
      41 => 'Input UC',
      42 => 'Zero Power',
      43 => 'Grid Not Present',
      44 => 'Waiting Start',
      45 => 'MPPT',
      46 => 'Grid Fail',
      47 => 'Input OC',
  }
  # ALARMS RECOGNITION
  ALARMS = {
      1 => 'Sun Low',
      2 => 'Input OC',
      3 => 'Input UV',
      4 => 'Input OV',
      5 => 'Sun Low',
      6 => 'No Parameters',
      7 => 'Bulk OV',
      8 => 'Comm.Error',
      9 => 'Output OC',
      10 => 'IGBT Sat',
      11 => 'Bulk UV',
      12 => 'Internal error',
      13 => 'Grid Fail',
      14 => 'Bulk Low',
      15 => 'Ramp Fail',
      16 => 'Dc/Dc Fail',
      17 => 'Wrong Mode',
      18 => 'Ground Fault',
      19 => 'Over Temp.',
      20 => 'Bulk Cap Fail',
      21 => 'Inverter Fail',
      22 => 'Start Timeout',
      23 => 'Ground Fault',
      24 => 'Degauss error',
      25 => 'Ileak sens.fail',
      26 => 'DcDc Fail',
      27 => 'Self Test Error 1',
      28 => 'Self Test Error 2',
      29 => 'Self Test Error 3',
      30 => 'Self Test Error 4',
      31 => 'DC inj error',
      32 => 'Grid OV',
      33 => 'Grid UV',
      34 => 'Grid OF',
      35 => 'Grid UF',
      36 => 'Z grid Hi',
      37 => 'Internal error',
      38 => 'Riso Low',
      39 => 'Vref Error',
      40 => 'Error Meas V',
      41 => 'Error Meas F',
      42 => 'Error Meas Z',
      43 => 'Error Meas Ileak',
      44 => 'Error Read V',
      45 => 'Error Read I',
      46 => 'Table fail',
      47 => 'Fan Fail',
      48 => 'UTH',
      49 => 'Interlock fail',
      50 => 'Remote Off',
      51 => 'Vout Avg error',
      52 => 'Battery low',
      53 => 'Clk fail',
      54 => 'Input UC',
      55 => 'Zero Power',
      56 => 'Fan Stucked',
      57 => 'DC Switch Open',
      58 => 'Tras Switch Open',
      59 => 'AC Switch Open',
      60 => 'Bulk UV',
      61 => 'Autoexclusion',
      62 => 'Grid df/dt',
      63 => 'Den switch Open',
      64 => 'Jbox fail'
  }
end
